<!DOCTYPE html>
<html>
	<head>
		<title>NDT-Client</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" charset="utf-8"/>
		<meta charset="utf-8"/>
		<link rel="stylesheet" type="text/css" href="ndt_d3.css"/>
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<script src="ndt_d3.js"></script>
		<script src="ndt-client.js"></script>
		<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
		<script>
	 		
	 		
	 		//var server = "ndt.iupui.mlab2.ham01.measurement-lab.org";
	
	  		var port = "3001";
	   	 	var path = "/ndt_protocol";
            var NDT_meter, NDT_client;
            
            function NDTmeter_setup(server) {
            	var parent = document.getElementById("container");
            	if(parent.hasChildNodes)
				var child = document.getElementById("svg");
				parent.removeChild(child);
				var x = document.createElement("div");
				x.setAttribute("id", "svg");  
				parent.appendChild(x);
				
                NDT_meter = new NDTmeter('#svg');
                NDT_client = new NDTjs(server, port, path, NDT_meter);
				NDT_client.logger(true);
                NDT_meter.meter.on("click", function () {
                    NDT_client.start_test();
                });
            }            
    </script>
	</head>
	<!-- <body onload="NDTmeter_setup()"> -->
		<body>
				<form action="#"> 
					<select id="Server" onchange="NDTmeter_setup(this.value)">
					   <option selected value="ndt.iupui.mlab2.ham01.measurement-lab.org">Hamburg</option>
					   <option value="ndt.iupui.mlab2.syd01.measurement-lab.org">Sydney,AU</option>
					   <option value="ndt.iupui.mlab1.hnd01.measurement-lab.org">Tokyo,JP</option>
					   <option value="ndt.iupui.mlab1.jnb01.measurement-lab.org">Johannesburg,ZA</option>
					   <option value="ndt.iupui.mlab1.bog01.measurement-lab.org">Bogota,CO</option>
					   <option value="ndt.iupui.mlab1.yyz01.measurement-lab.org">Toronto,CA</option>
					   <option value="ndt.iupui.mlab1.mnl01.measurement-lab.org">Manila,PH</option>
					   <option value="ndt.iupui.mlab1.tun01.measurement-lab.org">Tunis,TN</option>
					   <option value="ndt.iupui.mlab1.ams01.measurement-lab.org">Amsterdam,NL</option>
					   <option value="ndt.fh-luebeck.de">ndt.fh-luebeck.de</option>
					   <option value="192.168.2.1">TestServer</option>
					</select>
		    	</form> 
		    	
		 
			<div id="container">
				<div id="svg">
				</div>
			</div>
		
	</body>
</html>



